# üîë API Keys & Configuration Guide

## üìã Overview

This document contains all the API keys, configuration files, and credentials needed for deployment and Meta development setup.

---

## üóÑÔ∏è Database Configuration (Supabase)

### Required Credentials
- **Project URL**: `https://your-project.supabase.co`
- **Anon Key**: `your_supabase_anon_key_here`
- **Service Role Key**: `your_supabase_service_role_key_here`

### Where to Find
1o to [supabase.com](https://supabase.com)
2. Select your project
3. Go to **Settings** ‚Üí **API**
4py the values from the **Project API keys** section

### Configuration Files
- **Backend**: `back/.env`
- **Frontend**: `front/.env.production`

---

## üì± Meta Developer Configuration

### Required Credentials

#### 1. Meta App Credentials
- **App ID**: `your_meta_app_id_here`
- **App Secret**: `your_meta_app_secret_here`

#### 2. WhatsApp Business API
- **Access Token**: `your_whatsapp_access_token_here`
- **Phone Number ID**: `your_whatsapp_phone_number_id_here`
- **Business Account ID**: `your_whatsapp_business_account_id_here`
- **Verify Token**: `your_webhook_verify_token_here` (create your own)

#### 3. Facebook Messenger (Optional)
- **Page Access Token**: `your_page_access_token_here`
- **Page ID**: `your_page_id_here`

### Where to Find Meta Credentials

#### Step 1: Create Meta Developer Account1 Go to [developers.facebook.com](https://developers.facebook.com)
2. Click **Get Started**3email verification
4. Complete business verification (if required)

#### Step 2: Create Meta App1Click **Create App**
2. Choose **Business** type
3. Fill in app details:
   - **App Name**: Your ChatBot Platform
   - **App Contact Email**: Your email
   - **Business Account**: Select or create one

#### Step 3: Get App Credentials
1. In your app dashboard, go to **Settings** ‚Üí **Basic**
2Note down:
   - **App ID**
   - **App Secret** (click **Show** to reveal)

#### Step4 WhatsApp Business API
1. Go to **Add Products**
2 Find **WhatsApp** and click **Set Up**
3. Choose **Business** account type
4. Complete business verification process
5. Go to **WhatsApp** ‚Üí **Getting Started**
6Note down:
   - **Phone Number ID**
   - **Access Token** (click **Show** to reveal)
   - **Business Account ID**

#### Step 5: Configure Webhook
1. Go to **WhatsApp** ‚Üí **Configuration**
2. Set **Webhook URL**: `https://yourdomain.com/api/whatsapp/webhook`
3. Set **Verify Token**: Create a random string (e.g., `my_webhook_token_123`)
4. Subscribe to events:
   - `message`
   - `message_deliveries`
   - `message_reads`

### Configuration Files
- **Backend**: `back/.env`
- **Webhook URL**: `https://yourdomain.com/api/whatsapp/webhook`

---

## ü§ñ AI Service Configuration

### Required Credentials

####1 Cohere AI
- **API Key**: `your_cohere_api_key_here`

#### 2Google Gemini
- **API Key**: `your_google_gemini_api_key_here`

### Where to Find AI Credentials

#### Cohere AI Setup
1. Go to [cohere.ai](https://cohere.ai)
2. Sign up/Login
3. Go to **API Keys** section4Create new API key5Copy the key

#### Google Gemini Setup
1. Go toGoogle AI Studio](https://makersuite.google.com/app/apikey)
2. Sign in with Google account3Click **Create API Key**
4. Copy the generated key

### Configuration Files
- **AI Agent**: `AI-agent/.env`

---

## üîê Security Configuration

### JWT Secret
- **JWT Secret**: Generate a strong 32+ character random string
- **Example**: `your_very_long_random_jwt_secret_here_32min`

### Generate JWT Secret
```bash
# Method1Using Node.js
node -e "console.log(require('crypto').randomBytes(32).toString(hex'))"

# Method2sing OpenSSL
openssl rand -hex 32

# Method 3: Online generator (less secure)
# Use a password generator website
```

### Configuration Files
- **Backend**: `back/.env`

---

## üåê Domain & SSL Configuration

### Required Information
- **Domain Name**: `yourdomain.com`
- **SSL Certificate**: Auto-generated by Let's Encrypt
- **Cookie Domain**: `.yourdomain.com`

### DNS Configuration
Set up these DNS records with your domain provider:

```
Type    Name    Value
A       @       YOUR_SERVER_IP
A       www     YOUR_SERVER_IP
CNAME   api     yourdomain.com
```

### Configuration Files
- **Nginx**: `/etc/nginx/sites-available/chatbot`
- **SSL**: Auto-configured by Certbot

---

## üìÅ Environment Files Structure

### Backend Environment (`back/.env`)
```env
# Database Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# JWT Configuration
JWT_SECRET=your_very_long_random_jwt_secret_here_32_chars_min

# Meta Developer API Configuration
META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_REDIRECT_URI=https://yourdomain.com/api/integrations/meta/callback

# WhatsApp Business API Configuration
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id
WHATSAPP_VERIFY_TOKEN=your_webhook_verify_token
WHATSAPP_BUSINESS_ACCOUNT_ID=your_whatsapp_business_account_id
WHATSAPP_WEBHOOK_URL=https://yourdomain.com/api/whatsapp/webhook

# Server Configuration
PORT=5000
NODE_ENV=production
BASE_URL=https://yourdomain.com

# Frontend URL (for CORS)
FRONTEND_URL=https://yourdomain.com

# Cookie Configuration
COOKIE_DOMAIN=.yourdomain.com
```

### Frontend Environment (`front/.env.production`)
```env
VITE_API_BASE_URL=https://yourdomain.com/api
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_KEY=your_supabase_anon_key
```

### AI Agent Environment (`AI-agent/.env`)
```env
FLASK_ENV=production
COHERE_API_KEY=your_cohere_api_key
GOOGLE_API_KEY=your_google_gemini_api_key
BACKEND_URL=https://yourdomain.com/api
```

---

## üîç Testing Configuration

### Test API Endpoints
```bash
# Test Supabase connection
curl -X GET "https://your-project.supabase.co/rest/v1/" \
  -H apikey: your_anon_key" \
  -H "Authorization: Bearer your_anon_key

# Test WhatsApp webhook
curl -X GET https://yourdomain.com/api/whatsapp/webhook

# Test backend health
curl -X GET https://yourdomain.com/api/health

# Test AI agent
curl -X GET https://yourdomain.com/ai/health
```

### Test Meta Webhook
```bash
# Test webhook verification
curl -X GET "https://yourdomain.com/api/whatsapp/webhook?hub.mode=subscribe&hub.challenge=test&hub.verify_token=your_webhook_verify_token
```

---

## üõ°Ô∏è Security Checklist

### Before Deployment
- [ ] All API keys are secure and not committed to Git
- ] JWT secret is 32+ characters long
- [ ] Environment files are in `.gitignore`
- [ ] SSL certificate is valid
- [ ] CORS is properly configured
-] Rate limiting is enabled
- [ ] Security headers are set

### After Deployment
- [ ] Test all webhook endpoints
- [ ] Verify SSL certificate
- [ ] Check CORS configuration
- [ ] Test authentication flow
- [ ] Verify WhatsApp integration
- [ ] Test AI responses

---

## üö® Important Security Notes

### Never Commit These Files
- `.env` files
- API keys
- Private certificates
- Database credentials

### Secure Storage
- Store API keys in environment variables
- Use secure password managers for credentials
- Regularly rotate API keys
- Monitor API usage

### Backup Strategy
- Backup environment files securely
- Document all configuration changes
- Keep configuration templates
- Version control configuration templates (without secrets)

---

## üìû Support Resources

### Official Documentation
- **Meta Developer**: [developers.facebook.com/docs](https://developers.facebook.com/docs)
- **WhatsApp Business API**: [developers.facebook.com/docs/whatsapp](https://developers.facebook.com/docs/whatsapp)
- **Supabase**: [supabase.com/docs](https://supabase.com/docs)
- **Cohere AI**: [docs.cohere.ai](https://docs.cohere.ai)
- **Google Gemini**: [ai.google.dev/docs](https://ai.google.dev/docs)

### Support Contacts
- **Meta Developer Support**: [developers.facebook.com/support](https://developers.facebook.com/support)
- **Supabase Support**: [supabase.com/support](https://supabase.com/support)
- **Cohere Support**: [cohere.ai/contact](https://cohere.ai/contact)

---

## ‚úÖ Configuration Checklist

### Pre-Deployment
- [ ] Supabase project created
-  Developer account verified
- [ ] WhatsApp Business API enabled
- [ ] All API keys obtained
- [ ] Domain DNS configured
- [ ] SSL certificate ready
- [ ] Environment files created
- [ ] Security configurations set

### Post-Deployment
- [ ] All services running
- [ ] Webhooks responding
- entication working
- [ ] WhatsApp integration tested
- [ ] AI responses working
- [ ] Monitoring configured
- [ ] Backups scheduled

---

**üîê Remember: Keep all API keys and credentials secure and never share them publicly!** 